## Slope plot ###
# https://ibecav.github.io/slopegraph/
#Library
library(readxl)
library(dplyr)
library(ggplot2)
library(ggrepel)
library(kableExtra)
library(RColorBrewer)
library(ggpubr)
### Data ###
data_field = read.csv("C:/Users/vitor/Google Drive/Presentations/Control of volunteer corn/volunteercorncontrol/docs/data/control.csv")
df.summary <- data_field %>%
group_by(herbicide, rep, adj, cm) %>%
summarise(
sd = sd(mass, na.rm = TRUE),
mass = mean(mass)
)
## First run With NIS ##
data1with = df.summary %>% filter(rep == "1", adj == "with")
str(data1with)
data1with$herbicide <- factor(data1with$herbicide, levels = c("Clethodim 76.8", "Clethodim 102", "Clethodim 136", "ClethodimDicamba 76.8", "ClethodimDicamba 102", "ClethodimDicamba 136", "Dicamba 560"))
data1with$cm = as.factor(data1with$cm)
frw = ggplot(data = data1with, aes(x = cm, y =  mass, group =  herbicide, label = round(mass,0))) +
geom_line(aes(colour =  herbicide), size = 1) +
geom_point(aes(colour =  herbicide), size = 3) +
geom_label_repel() +
scale_colour_manual(values = c("#B2182B", "#D6604D", "#F4A582", "#E0E0E0", "#BABABA", "#878787", "#4D4D4D"
)) + theme_classic() + theme(title=element_text(size=2),
axis.text = element_text(size=2),
legend.text = element_text(size=2))+
ylim(0,100)+
labs(y = "Biomass control (%)",
colour = "Treatment",
x = "Plant heigth at application (cm)")
ggsave("frw.png", plot = frw, dpi = 1200, width = 4, height = 2, units = "cm")
ggsave("frw.png", plot = frw, dpi = 1200, width = 10, height = 5, units = "cm")
ggsave("frw.png", plot = frw, dpi = 1200, width = 20, height = 10, units = "cm")
frw = ggplot(data = data1with, aes(x = cm, y =  mass, group =  herbicide, label = round(mass,0))) +
geom_line(aes(colour =  herbicide), size = 1) +
geom_point(aes(colour =  herbicide), size = 3) +
geom_label_repel() +
scale_colour_manual(values = c("#B2182B", "#D6604D", "#F4A582", "#E0E0E0", "#BABABA", "#878787", "#4D4D4D"
)) + theme_classic() + theme(title=element_text(size=20),
axis.text = element_text(size=20),
legend.text = element_text(size=20))+
ylim(0,100)+
labs(y = "Biomass control (%)",
colour = "Treatment",
x = "Plant heigth at application (cm)")
ggsave("frw.png", plot = frw, dpi = 1200, width = 20, height = 10, units = "cm")
frw = ggplot(data = data1with, aes(x = cm, y =  mass, group =  herbicide, label = round(mass,0))) +
geom_line(aes(colour =  herbicide), size = 1) +
geom_point(aes(colour =  herbicide), size = 3) +
geom_label_repel() +
scale_colour_manual(values = c("#B2182B", "#D6604D", "#F4A582", "#E0E0E0", "#BABABA", "#878787", "#4D4D4D"
)) + theme_classic() + theme(title=element_text(size=15),
axis.text = element_text(size=15),
legend.text = element_text(size=15))+
ylim(0,100)+
labs(y = "Biomass control (%)",
colour = "Treatment",
x = "Plant heigth at application (cm)")
ggsave("frw.png", plot = frw, dpi = 1200, width = 20, height = 10, units = "cm")
## Second run With NIS ##
data2with = df.summary %>% filter(rep == "2", adj == "with")
str(data2with)
data2with$herbicide <- factor(data2with$herbicide, levels = c("Clethodim 76.8", "Clethodim 102", "Clethodim 136", "ClethodimDicamba 76.8", "ClethodimDicamba 102", "ClethodimDicamba 136", "Dicamba 560"))
data2with$cm = as.factor(data2with$cm)
srw = ggplot(data = data2with, aes(x = cm, y =  mass, group =  herbicide, label = round(mass,0))) +
geom_line(aes(colour =  herbicide), size = 1) +
geom_point(aes(colour =  herbicide), size = 3) +
geom_label_repel() +
scale_colour_manual(values = c("#B2182B", "#D6604D", "#F4A582", "#E0E0E0", "#BABABA", "#878787", "#4D4D4D"
)) + theme_classic() + theme(title=element_text(size=15),
axis.text = element_text(size=15),
legend.text = element_text(size=15))+
ylim(0,100)+
labs(y = "Biomass control (%)",
colour = "Treatment",
x = "Plant heigth at application (cm)")
ggsave("srw.png", plot = srw, dpi = 1200, width = 20, height = 10, units = "cm")
## First run without NIS ##
data1without = df.summary %>% filter(rep == "1", adj == "without")
str(data1without)
data1without$herbicide <- factor(data1without$herbicide, levels = c("Clethodim 76.8", "Clethodim 102", "Clethodim 136", "ClethodimDicamba 76.8", "ClethodimDicamba 102", "ClethodimDicamba 136", "Dicamba 560"))
data1without$cm = as.factor(data1without$cm)
fro = ggplot(data = data1without, aes(x = cm, y =  mass, group =  herbicide, label = round(mass,0))) +
geom_line(aes(colour =  herbicide), size = 1) +
geom_point(aes(colour =  herbicide), size = 3) +
geom_label_repel() +
scale_colour_manual(values = c("#B2182B", "#D6604D", "#F4A582", "#E0E0E0", "#BABABA", "#878787", "#4D4D4D"
)) + theme_classic() + theme(title=element_text(size=15),
axis.text = element_text(size=15),
legend.text = element_text(size=15))+
ylim(0,100)+
labs(y = "Biomass control (%)",
colour = "Treatment",
x = "Plant heigth at application (cm)")
ggsave("fro.png", plot = fro, dpi = 1200, width = 20, height = 10, units = "cm")
## Second run without NIS ##
data2without = df.summary %>% filter(rep == "2", adj == "without")
str(data2without)
data2without$herbicide <- factor(data2without$herbicide, levels = c("Clethodim 76.8", "Clethodim 102", "Clethodim 136", "ClethodimDicamba 76.8", "ClethodimDicamba 102", "ClethodimDicamba 136", "Dicamba 560"))
data2without$cm = as.factor(data2without$cm)
sro = ggplot(data = data2without, aes(x = cm, y =  mass, group =  herbicide, label = round(mass,0))) +
geom_line(aes(colour =  herbicide), size = 1) +
geom_point(aes(colour =  herbicide), size = 3) +
geom_label_repel() +
scale_colour_manual(values = c("#B2182B", "#D6604D", "#F4A582", "#E0E0E0", "#BABABA", "#878787", "#4D4D4D"
)) + theme_classic() + theme(title=element_text(size=15),
axis.text = element_text(size=15),
legend.text = element_text(size=15))+
ylim(0,100)+
labs(y = "Biomass control (%)",
colour = "Treatment",
x = "Plant heigth at application (cm)")
ggsave("sro.png", plot = sro, dpi = 1200, width = 20, height = 10, units = "cm")
#Bases
#https://cran.r-project.org/web/packages/kableExtra/vignettes/awesome_table_in_html.html#Table_Styles
#https://rpubs.com/yutao/444395
#Load the libraries
library(dplyr)
library(kableExtra)
library(formattable)
# 30 cm
corn30 <- read.csv("C:/Users/vitor/Google Drive/Presentations/Control of volunteer corn/volunteercorncontrol/docs/data/corn30int.csv")
corn30 %>%
mutate(
Average = color_bar("lightgreen")(Average),
Interaction.1 = cell_spec(Interaction.1, "html",
color = ifelse(Interaction.1 == "ANTAGONISTIC", "#d00000",
ifelse(Interaction.1 == "SYNERGIC", "lightgreen",
"black"))),
Interaction.2 = cell_spec(Interaction.2, "html",
color = ifelse(Interaction.2 == "ANTAGONISTIC", "#d00000",
ifelse(Interaction.2 == "SYNERGIC", "lightgreen",
"black"))))%>%
kable(escape = F, align = "c",
caption = "Control of volunteer corn treated at height 30 cm, with a mixture of Clethodim and Dicamba.",
col.names = c("Herbicide 1",
"Herbicide 2",
"Estimated",
"Observed",
"p-value",
"Interaction",
"Estimated",
"Observed",
"p-value",
"Interaction",
"Average"))%>%
kable_styling(c("condensed", "hover", "striped"), full_width = F)%>%
row_spec(0, bold = T, color = "#f5f1e7", background = "#d00000")%>%
pack_rows("No NIS", 1, 3) %>%
pack_rows("Add+ NIS*", 4, 6) %>%
add_header_above(c("Treatment" = 2, "Field 2019" = 4, "Field 2020" = 4, " " = 1 ))%>%
footnote(general = "The numbers in behind of the herbicide name represent the dose of the herbicide in g ai or g ae by hectare.",
symbol = c("Add NIS dose 0.25% v/v."))%>%
save_kable("30cm.png", zoom = 3)
# 60 cm
corn60 <- read.csv("C:/Users/vitor/Google Drive/Presentations/Control of volunteer corn/volunteercorncontrol/docs/data/corn60int.csv")
corn60 %>%
mutate(
Average = color_bar("lightgreen")(Average),
Interaction.1 = cell_spec(Interaction.1, "html",
color = ifelse(Interaction.1 == "ANTAGONISTIC", "#d00000",
ifelse(Interaction.1 == "SYNERGIC", "lightgreen",
"black"))),
Interaction.2 = cell_spec(Interaction.2, "html",
color = ifelse(Interaction.2 == "ANTAGONISTIC", "#d00000",
ifelse(Interaction.2 == "SYNERGIC", "lightgreen",
"black"))))%>%
kable(escape = F, align = "c",
caption = "Control of volunteer corn treated at height 60 cm, with a mixture of Clethodim and Dicamba.",
col.names = c("Herbicide 1",
"Herbicide 2",
"Estimated",
"Observed",
"p-value",
"Interaction",
"Estimated",
"Observed",
"p-value",
"Interaction",
"Average"))%>%
kable_styling(c("condensed", "hover", "striped"), full_width = F)%>%
row_spec(0, bold = T, color = "#f5f1e7", background = "#d00000")%>%
pack_rows("No NIS", 1, 3) %>%
pack_rows("Add+ NIS*", 4, 6) %>%
add_header_above(c("Treatment" = 2, "Field 2019" = 4, "Field 2020" = 4, " " = 1 ))%>%
footnote(general = "The numbers in behind of the herbicide name represent the dose of the herbicide in g ai or g ae by hectare.",
symbol = c("Add NIS dose 0.25% v/v."))%>%
save_kable("60cm.png", zoom = 3)
# 90 cm
corn90 <- read.csv("C:/Users/vitor/Google Drive/Presentations/Control of volunteer corn/volunteercorncontrol/docs/data/corn90int.csv")
corn90 %>%
mutate(
Average = color_bar("lightgreen")(Average),
Interaction.1 = cell_spec(Interaction.1, "html",
color = ifelse(Interaction.1 == "ANTAGONISTIC", "#d00000",
ifelse(Interaction.1 == "SYNERGIC", "lightgreen",
"black"))),
Interaction.2 = cell_spec(Interaction.2, "html",
color = ifelse(Interaction.2 == "ANTAGONISTIC", "#d00000",
ifelse(Interaction.2 == "SYNERGIC", "lightgreen",
"black"))))%>%
kable(escape = F, align = "c",
caption = "Control of volunteer corn treated at height 90 cm, with a mixture of Clethodim and Dicamba.",
col.names = c("Herbicide 1",
"Herbicide 2",
"Estimated",
"Observed",
"p-value",
"Interaction",
"Estimated",
"Observed",
"p-value",
"Interaction",
"Average"))%>%
kable_styling(c("condensed", "hover", "striped"), full_width = F)%>%
row_spec(0, bold = T, color = "#f5f1e7", background = "#d00000")%>%
pack_rows("No NIS", 1, 3) %>%
pack_rows("Add+ NIS*", 4, 6) %>%
add_header_above(c("Treatment" = 2, "Field 2019" = 4, "Field 2020" = 4, " " = 1 ))%>%
footnote(general = "The numbers in behind of the herbicide name represent the dose of the herbicide in g ai or g ae by hectare.",
symbol = c("Add NIS dose 0.25% v/v."))%>%
save_kable("90cm.png", zoom = 3)
